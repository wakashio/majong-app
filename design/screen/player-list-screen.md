# 参加者一覧画面

## 概要

参加者一覧を表示し、参加者の登録・編集・削除を行う画面です。

## 画面構成

### レイアウト

- ヘッダー: 画面タイトル「参加者一覧」
- メインコンテンツ:
  - 新規登録ボタン
  - 一括登録ボタン
  - 参加者一覧テーブル
  - 編集・削除ボタン（各行）

## 画面項目

### ヘッダー

| 項目名 | タイプ | 説明 |
|--------|--------|------|
| 画面タイトル | テキスト | 「参加者一覧」 |

### 新規登録ボタン

| 項目名 | タイプ | 説明 |
|--------|--------|------|
| 新規登録ボタン | ボタン | 参加者登録画面に遷移 |

### 一括登録ボタン

| 項目名 | タイプ | 説明 |
|--------|--------|------|
| 一括登録ボタン | ボタン | 一括登録ダイアログを表示 |

### 一括登録ダイアログ

| 項目名 | タイプ | 説明 |
|--------|--------|------|
| ダイアログ | v-dialog | 一括登録用のダイアログ |
| テキストエリア | v-textarea | 複数行入力（改行区切りで名前を入力） |
| プレースホルダー | テキスト | 「改行区切りで複数人の名前を入力してください」 |
| ヘルプテキスト | テキスト | 入力方法の説明（改行区切りで複数人の名前を入力） |
| キャンセルボタン | ボタン | ダイアログを閉じる |
| 登録ボタン | ボタン | 一括登録を実行 |

### 参加者一覧テーブル

| 項目名 | タイプ | 説明 |
|--------|--------|------|
| 参加者名 | テキスト | 参加者の名前 |
| 作成日時 | 日時 | 参加者の作成日時 |
| 更新日時 | 日時 | 参加者の更新日時 |
| 編集ボタン | ボタン | 参加者編集画面に遷移 |
| 削除ボタン | ボタン | 参加者を削除（確認ダイアログ表示） |

## 画面遷移

### 遷移元

- なし（初期画面）

### 遷移先

- 参加者登録画面（新規登録ボタンクリック時）
- 参加者編集画面（編集ボタンクリック時）

## 機能

### 参加者一覧取得

- 画面表示時に`GET /api/players`を呼び出し、参加者一覧を取得
- 取得したデータをテーブルに表示
- エラー時はエラーメッセージを表示

### 参加者削除

- 削除ボタンクリック時に確認ダイアログを表示
- 確認後、`DELETE /api/players/:id`を呼び出し、参加者を削除
- 削除成功後、一覧を再取得
- エラー時はエラーメッセージを表示

### 参加者一括登録

- 一括登録ボタンクリック時に一括登録ダイアログを表示
- テキストエリアに改行区切りで複数人の名前を入力
- 登録ボタンクリック時に、入力されたテキストを改行で分割して`names`配列に変換
- `POST /api/players/bulk`を呼び出し、参加者を一括登録
- 登録成功後、一覧を再取得
- エラー時はエラーメッセージを表示（バリデーションエラー、重複エラーなど）

## リアルタイム更新

- 参加者の登録・更新・削除後、一覧を自動更新
- 他の画面から戻ってきた場合も一覧を再取得

## UI/UX

### デザイン

- Vuetifyのコンポーネントを使用
- テーブルは`v-data-table`を使用
- ボタンは`v-btn`を使用

### エラーハンドリング

- APIエラー時は`v-alert`でエラーメッセージを表示
- ネットワークエラー時も適切にエラーメッセージを表示

### ローディング

- データ取得中はローディングインジケーターを表示

## 実装メモ

- Vue 3 Composition APIを使用
- TypeScriptで型安全性を確保
- リアルタイム更新は必要に応じて実装（現時点では手動更新）
- 一括登録機能:
  - `PlayerListView.vue`に一括登録ダイアログを追加
  - テキストエリア（`v-textarea`）で複数行入力
  - プレースホルダーやヘルプテキストで「改行区切りで複数人の名前を入力してください」と明示
  - 入力されたテキストを改行（`\n`）で分割して`names`配列に変換
  - 空行や空白のみの行は除外（`filter`で処理）
  - `playerApi.ts`に`bulkCreatePlayer`関数を追加
  - 一括登録成功後は参加者一覧を再読み込み
  - エラーハンドリング: バリデーションエラー、重複エラー、ネットワークエラーを適切に表示

