# ホーム画面

## 概要

麻雀記録アプリのホーム画面（ダッシュボード）です。最近の半荘、統計情報、クイックアクションを表示します。

## 画面構成

### レイアウト

- メインコンテンツ:
  - 最近のセッションセクション
  - 最近の半荘セクション
  - 統計情報セクション（オプション）
  - クイックアクションセクション

## 画面項目

### 最近のセッションセクション

| 項目名 | タイプ | 説明 |
|--------|--------|------|
| セクションタイトル | テキスト | 「最近のセッション」 |
| セッション一覧 | リスト | 最近のセッションを最大5件表示 |
| セッション名 | テキスト | セッションの名前（未設定の場合は「無題」と表示） |
| 参加者 | テキスト | 参加者名をカンマ区切りで表示 |
| 日付 | 日時 | セッションの日付 |
| 詳細ボタン | ボタン | セッション詳細画面に遷移 |

### 最近の半荘セクション

| 項目名 | タイプ | 説明 |
|--------|--------|------|
| セクションタイトル | テキスト | 「最近の半荘」 |
| 半荘一覧 | リスト | 最近の半荘を最大5件表示 |
| 半荘名 | テキスト | 半荘の名前（未設定の場合は「無題」と表示） |
| 参加者 | テキスト | 参加者名をカンマ区切りで表示（4人） |
| 開始日時 | 日時 | 半荘の開始日時 |
| ステータス | バッジ | 進行中/完了済み |
| 詳細ボタン | ボタン | 半荘詳細画面（局一覧画面）に遷移 |

### 統計情報セクション（オプション）

| 項目名 | タイプ | 説明 |
|--------|--------|------|
| セクションタイトル | テキスト | 「統計情報」 |
| 総半荘数 | 数値 | これまでに記録した半荘の総数 |
| 総局数 | 数値 | これまでに記録した局の総数 |
| 統計詳細リンク | リンク | 統計・履歴画面に遷移（将来の機能） |

### クイックアクションセクション

| 項目名 | タイプ | 説明 |
|--------|--------|------|
| セクションタイトル | テキスト | 「クイックアクション」 |
| 新規半荘開始ボタン | ボタン | 半荘作成画面に遷移 |
| 参加者管理ボタン | ボタン | 参加者一覧画面に遷移 |
| 半荘一覧ボタン | ボタン | 半荘一覧画面に遷移 |

## 画面遷移

### 遷移元

- アプリ起動時（ルートパス `/`）
- ナビゲーションドロワーから「ホーム」を選択

### 遷移先

- セッション詳細画面（最近のセッションの詳細ボタンクリック時）
- 半荘詳細画面（局一覧画面）（最近の半荘の詳細ボタンクリック時）
- 半荘作成画面（新規半荘開始ボタンクリック時）
- 参加者一覧画面（参加者管理ボタンクリック時）
- 半荘一覧画面（半荘一覧ボタンクリック時）
- 統計・履歴画面（統計詳細リンククリック時、将来の機能）

## 機能

### 最近のセッション取得

- 画面表示時に`GET /api/sessions?limit=5&offset=0`を呼び出し、最近のセッションを取得
- APIは日付順（新しい順）で返却されるため、そのまま使用
- 取得したデータをリストに表示
- エラー時はエラーメッセージを表示
- セッションがない場合は「セッションがまだありません」というメッセージを表示

### 最近の半荘取得

- 画面表示時に`GET /api/hanchans?limit=5&orderBy=createdAt&order=desc`を呼び出し、最近の半荘を取得
- 取得したデータをリストに表示
- エラー時はエラーメッセージを表示

### 統計情報取得（オプション）

- 画面表示時に統計情報を取得（将来の機能）
- エラー時はエラーメッセージを表示

## リアルタイム更新

- セッションの作成・更新後、最近のセッションセクションを自動更新
- 半荘の作成・更新後、最近の半荘セクションを自動更新
- 他の画面から戻ってきた場合も最近のセッションと半荘を再取得

## UI/UX

### デザイン

- Vuetifyのコンポーネントを使用
- カード形式でセクションを表示（`v-card`を使用）
- リストは`v-list`を使用
- ボタンは`v-btn`を使用
- バッジは`v-chip`を使用

### エラーハンドリング

- APIエラー時は`v-alert`でエラーメッセージを表示
- ネットワークエラー時も適切にエラーメッセージを表示

### ローディング

- データ取得中はローディングインジケーターを表示

### レスポンシブデザイン

- モバイル端末でも見やすいレイアウト
- グリッドレイアウトを使用（`v-row`、`v-col`）

## 実装メモ

- Vue 3 Composition APIを使用
- TypeScriptで型安全性を確保
- 最近のセッションセクションは`sessionApi.ts`の`getSessions`関数を使用（`limit=5`で最新5件を取得）
- セッションの参加者情報は`SessionListItem.players`配列から取得し、カンマ区切りで表示
- セッション名は`SessionListItem.name`を使用（未設定の場合は「無題」と表示）
- セッションの日付は`SessionListItem.date`を使用し、`toLocaleString('ja-JP')`でフォーマット
- セッションクリック時は`router.push(/sessions/${session.id})`でセッション詳細画面に遷移
- 既存の半荘表示と同様のUI形式で実装（`v-card`、`v-list`、`v-list-item`を使用）
- エラーハンドリングとローディング表示は既存の半荘表示と同様に実装
- リアルタイム更新は必要に応じて実装（現時点では手動更新）
- 統計情報セクションは将来的な拡張として実装（現時点では表示しないことも可能）

